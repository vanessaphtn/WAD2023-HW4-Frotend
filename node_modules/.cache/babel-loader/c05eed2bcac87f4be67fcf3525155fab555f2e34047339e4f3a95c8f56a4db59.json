{"ast":null,"code":"import _regeneratorRuntime from \"/Users/vanessaapuhtin/Documents/3 semester/WAD/WAD2023-HW4-Frotend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/Users/vanessaapuhtin/Documents/3 semester/WAD/WAD2023-HW4-Frotend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nexport default {\n  user: {\n    authenticated: false\n  },\n  authenticated: function () {\n    var _authenticated = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n      var _this = this;\n      return _regeneratorRuntime().wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return fetch(\"http://localhost:3000/auth/authenticate\", {\n                credentials: 'include' //  Don't forget to specify this if you need cookies\n              }).then(function (response) {\n                return response.json();\n              }).then(function (data) {\n                _this.user.authenticated = data.authenticated;\n                console.log(data);\n              })[\"catch\"](function (e) {\n                console.log(e);\n                console.log(\"error logout\");\n              });\n            case 2:\n              return _context.abrupt(\"return\", this.user.authenticated);\n            case 3:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n    function authenticated() {\n      return _authenticated.apply(this, arguments);\n    }\n    return authenticated;\n  }()\n};","map":{"version":3,"names":["user","authenticated","fetch","credentials","then","response","json","data","console","log","e"],"sources":["/Users/vanessaapuhtin/Documents/3 semester/WAD/WAD2023-HW4-Frotend/src/auth.js"],"sourcesContent":["export default {\n    user: { authenticated: false },\n    authenticated: async function() {\n        await fetch(\"http://localhost:3000/auth/authenticate\", {\n                credentials: 'include', //  Don't forget to specify this if you need cookies\n            })\n            .then((response) => response.json())\n            .then((data) => {\n                this.user.authenticated = data.authenticated;\n                console.log(data);\n            })\n            .catch((e) => {\n                console.log(e);\n                console.log(\"error logout\");\n            });\n        return this.user.authenticated;\n    }\n\n}"],"mappings":";;;AAAA,eAAe;EACXA,IAAI,EAAE;IAAEC,aAAa,EAAE;EAAM,CAAC;EAC9BA,aAAa;IAAA,gFAAE;MAAA;MAAA;QAAA;UAAA;YAAA;cAAA;cAAA,OACLC,KAAK,CAAC,yCAAyC,EAAE;gBAC/CC,WAAW,EAAE,SAAS,CAAE;cAC5B,CAAC,CAAC,CACDC,IAAI,CAAC,UAACC,QAAQ;gBAAA,OAAKA,QAAQ,CAACC,IAAI,EAAE;cAAA,EAAC,CACnCF,IAAI,CAAC,UAACG,IAAI,EAAK;gBACZ,KAAI,CAACP,IAAI,CAACC,aAAa,GAAGM,IAAI,CAACN,aAAa;gBAC5CO,OAAO,CAACC,GAAG,CAACF,IAAI,CAAC;cACrB,CAAC,CAAC,SACI,CAAC,UAACG,CAAC,EAAK;gBACVF,OAAO,CAACC,GAAG,CAACC,CAAC,CAAC;gBACdF,OAAO,CAACC,GAAG,CAAC,cAAc,CAAC;cAC/B,CAAC,CAAC;YAAA;cAAA,iCACC,IAAI,CAACT,IAAI,CAACC,aAAa;YAAA;YAAA;cAAA;UAAA;QAAA;MAAA;IAAA,CACjC;IAAA;MAAA;IAAA;IAAA;EAAA;AAEL,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}