{"ast":null,"code":"import \"core-js/modules/es.date.to-iso-string.js\";\nimport \"core-js/modules/es.date.to-string.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.json.stringify.js\";\nimport \"core-js/modules/es.array.push.js\";\nexport default {\n  name: \"AddPost\",\n  data: function data() {\n    return {\n      body: ''\n    };\n  },\n  methods: {\n    addPost: function addPost() {\n      var _this = this;\n      var data = {\n        body: this.body,\n        date: new Date().toISOString()\n      };\n      fetch(\"http://localhost:3000/posts\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          'Authorization': 'Bearer ' + document.cookie.split('=')[1] // Add this line\n        },\n\n        credentials: 'include',\n        body: JSON.stringify(data)\n      }).then(function (response) {\n        return response.json();\n      }).then(function (data) {\n        console.log(data);\n        _this.$router.push(\"/\");\n      })[\"catch\"](function (e) {\n        console.log(e);\n        console.log(\"error\");\n      });\n    }\n  }\n};","map":{"version":3,"mappings":";;;;;AAUE,eAAe;EACbA,IAAI,EAAE,SAAS;EAEfC,IAAI,EAAE,gBAAW;IACf,OAAO;MACLC,IAAI,EAAE;IACR;EACF,CAAC;EAEDC,OAAO,EAAE;IAEPC,OAAO,qBAAG;MAAA;MACR,IAAIH,IAAG,GAAI;QACTC,IAAI,EAAE,IAAI,CAACA,IAAI;QACfG,IAAI,EAAE,IAAIC,IAAI,EAAE,CAACC,WAAW;MAC9B,CAAC;MAEDC,KAAK,CAAC,6BAA6B,EAAE;QACnCC,MAAM,EAAE,MAAM;QACdC,OAAO,EAAE;UACP,cAAc,EAAE,kBAAkB;UAClC,eAAe,EAAE,SAAQ,GAAIC,QAAQ,CAACC,MAAM,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,EAAG;QAC9D,CAAC;;QACDC,WAAW,EAAE,SAAS;QACtBZ,IAAI,EAAEa,IAAI,CAACC,SAAS,CAACf,IAAI;MAC3B,CAAC,EACAgB,IAAI,CAAC,UAACC,QAAQ;QAAA,OAAKA,QAAQ,CAACC,IAAI,EAAE;MAAA,GAClCF,IAAI,CAAC,UAAChB,IAAI,EAAK;QACdmB,OAAO,CAACC,GAAG,CAACpB,IAAI,CAAC;QACjB,KAAI,CAACqB,OAAO,CAACC,IAAI,CAAC,GAAG,CAAC;MACxB,CAAC,UACK,CAAC,UAACC,CAAC,EAAK;QACZJ,OAAO,CAACC,GAAG,CAACG,CAAC,CAAC;QACdJ,OAAO,CAACC,GAAG,CAAC,OAAO,CAAC;MACtB,CAAC,CAAC;IACJ;EACF;AACF","names":["name","data","body","methods","addPost","date","Date","toISOString","fetch","method","headers","document","cookie","split","credentials","JSON","stringify","then","response","json","console","log","$router","push","e"],"sourceRoot":"","sources":["C:\\Users\\davidjaa\\Documents\\WAD\\WAD2023-HW4-Frotend\\src\\views\\AddPost.vue"],"sourcesContent":["<template>\r\n    <div class=\"form\">\r\n      <h3>Add Post</h3>\r\n      <label for=\"body\">Post Body</label>\r\n      <textarea name=\"body\" required v-model=\"body\"></textarea>\r\n      <button @click=\"addPost\" class=\"AddPost\">Add Post</button>\r\n    </div>\r\n  </template>\r\n  \r\n  <script>\r\n  export default {\r\n    name: \"AddPost\", \r\n  \r\n    data: function() {\r\n      return {\r\n        body: '',\r\n      }\r\n    },\r\n  \r\n    methods: {\r\n\r\n      addPost() {\r\n        var data = {\r\n          body: this.body,\r\n          date: new Date().toISOString()\r\n        };\r\n  \r\n        fetch(\"http://localhost:3000/posts\", {\r\n          method: \"POST\",\r\n          headers: {\r\n            \"Content-Type\": \"application/json\",\r\n            'Authorization': 'Bearer ' + document.cookie.split('=')[1]  // Add this line\r\n          },\r\n          credentials: 'include',\r\n          body: JSON.stringify(data),\r\n        })\r\n        .then((response) => response.json())\r\n        .then((data) => {\r\n          console.log(data);\r\n          this.$router.push(\"/\");\r\n        })\r\n        .catch((e) => {\r\n          console.log(e);\r\n          console.log(\"error\");\r\n        });\r\n      },\r\n    }, \r\n  }\r\n  </script>\r\n  \r\n  <style scoped>\r\n  .form {\r\n    max-width: 420px;\r\n    margin: 30px auto;\r\n    background: rgb(216, 212, 212);\r\n    text-align: left;\r\n    padding: 40px;\r\n    border-radius: 10px;\r\n  }\r\n  h3 {\r\n    text-align: center;\r\n    color: rgb(8, 110, 110);\r\n  }\r\n  label {\r\n    color: rgb(8, 110, 110);\r\n    display: inline-block;\r\n    margin: 25px 0 15px;\r\n    font-size: 0.8em;\r\n    text-transform: uppercase;\r\n    letter-spacing: 1px;\r\n    font-weight: bold;\r\n  }\r\n  textarea {\r\n    display: block;\r\n    padding: 10px 6px;\r\n    width: 100%;\r\n    box-sizing: border-box;\r\n    border: none;\r\n    border-bottom: 1px solid white;\r\n  }\r\n  button {\r\n    background: rgb(8, 110, 110);\r\n    border: 0;\r\n    padding: 10px 20px;\r\n    margin-top: 20px;\r\n    color: white;\r\n    border-radius: 20px;\r\n    align-items: center;\r\n    text-align: center;\r\n  }\r\n  </style>\r\n  "]},"metadata":{},"sourceType":"module","externalDependencies":[]}