{"ast":null,"code":"import \"core-js/modules/es.date.to-iso-string.js\";\nimport \"core-js/modules/es.date.to-string.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.json.stringify.js\";\nimport \"core-js/modules/es.array.push.js\";\nexport default {\n  name: \"AddPost\",\n  data: function data() {\n    return {\n      body: ''\n    };\n  },\n  methods: {\n    addPost: function addPost() {\n      var _this = this;\n      var data = {\n        body: this.body,\n        date: new Date().toISOString()\n      };\n      fetch(\"http://localhost:3000/posts\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          'Authorization': 'Bearer ' + document.cookie.split('=')[1] // Add this line\n        },\n\n        credentials: 'include',\n        body: JSON.stringify(data)\n      }).then(function (response) {\n        return response.json();\n      }).then(function (data) {\n        console.log(data);\n        _this.$router.push(\"/\");\n      })[\"catch\"](function (e) {\n        console.log(e);\n        console.log(\"error\");\n      });\n    }\n  }\n};","map":{"version":3,"mappings":";;;;;AAUE,eAAe;EACbA,IAAI,EAAE,SAAS;EAEfC,IAAI,EAAE,gBAAW;IACf,OAAO;MACLC,IAAI,EAAE;IACR;EACF,CAAC;EAEDC,OAAO,EAAE;IAEPC,OAAO,qBAAG;MAAA;MACR,IAAIH,IAAG,GAAI;QACTC,IAAI,EAAE,IAAI,CAACA,IAAI;QACfG,IAAI,EAAE,IAAIC,IAAI,EAAE,CAACC,WAAW;MAC9B,CAAC;MAEDC,KAAK,CAAC,6BAA6B,EAAE;QACnCC,MAAM,EAAE,MAAM;QACdC,OAAO,EAAE;UACP,cAAc,EAAE,kBAAkB;UAClC,eAAe,EAAE,SAAQ,GAAIC,QAAQ,CAACC,MAAM,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,EAAG;QAC9D,CAAC;;QACDC,WAAW,EAAE,SAAS;QACtBZ,IAAI,EAAEa,IAAI,CAACC,SAAS,CAACf,IAAI;MAC3B,CAAC,EACAgB,IAAI,CAAC,UAACC,QAAQ;QAAA,OAAKA,QAAQ,CAACC,IAAI,EAAE;MAAA,GAClCF,IAAI,CAAC,UAAChB,IAAI,EAAK;QACdmB,OAAO,CAACC,GAAG,CAACpB,IAAI,CAAC;QACjB,KAAI,CAACqB,OAAO,CAACC,IAAI,CAAC,GAAG,CAAC;MACxB,CAAC,UACK,CAAC,UAACC,CAAC,EAAK;QACZJ,OAAO,CAACC,GAAG,CAACG,CAAC,CAAC;QACdJ,OAAO,CAACC,GAAG,CAAC,OAAO,CAAC;MACtB,CAAC,CAAC;IACJ;EACF;AACF","names":["name","data","body","methods","addPost","date","Date","toISOString","fetch","method","headers","document","cookie","split","credentials","JSON","stringify","then","response","json","console","log","$router","push","e"],"sourceRoot":"","sources":["/Users/vanessaapuhtin/Documents/3 semester/WAD/WAD2023-HW4-Frotend/src/views/AddPost.vue"],"sourcesContent":["<template>\n    <div class=\"form\">\n      <h3>Add Post</h3>\n      <label for=\"body\">Post Body</label>\n      <textarea name=\"body\" required v-model=\"body\"></textarea>\n      <button @click=\"addPost\" class=\"AddPost\">Add Post</button>\n    </div>\n  </template>\n  \n  <script>\n  export default {\n    name: \"AddPost\", \n  \n    data: function() {\n      return {\n        body: '',\n      }\n    },\n  \n    methods: {\n\n      addPost() {\n        var data = {\n          body: this.body,\n          date: new Date().toISOString()\n        };\n  \n        fetch(\"http://localhost:3000/posts\", {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n            'Authorization': 'Bearer ' + document.cookie.split('=')[1]  // Add this line\n          },\n          credentials: 'include',\n          body: JSON.stringify(data),\n        })\n        .then((response) => response.json())\n        .then((data) => {\n          console.log(data);\n          this.$router.push(\"/\");\n        })\n        .catch((e) => {\n          console.log(e);\n          console.log(\"error\");\n        });\n      },\n    }, \n  }\n  </script>\n  \n  <style scoped>\n  .form {\n    max-width: 420px;\n    margin: 30px auto;\n    background: rgb(167, 154, 154);\n    text-align: left;\n    padding: 40px;\n    border-radius: 10px;\n  }\n  h3 {\n    text-align: center;\n    color: rgb(8, 110, 110);\n  }\n  label {\n    color: rgb(8, 110, 110);\n    display: inline-block;\n    margin: 25px 0 15px;\n    font-size: 0.8em;\n    text-transform: uppercase;\n    letter-spacing: 1px;\n    font-weight: bold;\n  }\n  textarea {\n    display: block;\n    padding: 10px 6px;\n    width: 100%;\n    box-sizing: border-box;\n    border: none;\n    border-bottom: 1px solid white;\n  }\n  button {\n    background: rgb(8, 110, 110);\n    border: 0;\n    padding: 10px 20px;\n    margin-top: 20px;\n    color: white;\n    border-radius: 20px;\n    align-items: center;\n    text-align: center;\n  }\n  </style>\n  "]},"metadata":{},"sourceType":"module","externalDependencies":[]}