{"ast":null,"code":"import { vModelText as _vModelText, createElementVNode as _createElementVNode, withDirectives as _withDirectives, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nvar _withScopeId = function _withScopeId(n) {\n  return _pushScopeId(\"data-v-fde769d2\"), n = n(), _popScopeId(), n;\n};\nvar _hoisted_1 = {\n  \"class\": \"add-post\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_withDirectives(_createElementVNode(\"textarea\", {\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = function ($event) {\n      return _ctx.body = $event;\n    }),\n    placeholder: \"Write your post here...\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, _ctx.body]]), _createElementVNode(\"button\", {\n    onClick: _cache[1] || (_cache[1] = function () {\n      return $options.addPost && $options.addPost.apply($options, arguments);\n    })\n  }, \"Add Post\")]);\n}","map":{"version":3,"mappings":";;;;;EACS,SAAM;AAAU;;uBAArBA,oBAGM,OAHNC,UAGM,mBAFJC,oBAA0E;;aAAvDC,SAAI;IAAA;IAAEC,WAAW,EAAC;iDAAlBD,SAAI,KACvBD,oBAA0C;IAAjCG,OAAK;MAAA,OAAEC,+DAAO;IAAA;KAAE,UAAQ","names":["_createElementBlock","_hoisted_1","_createElementVNode","_ctx","placeholder","onClick","$options"],"sourceRoot":"","sources":["/Users/vanessaapuhtin/Documents/3 semester/WAD/WAD2023-HW4-Frotend/src/views/AddPost.vue"],"sourcesContent":["<template>\n    <div class=\"add-post\">\n      <textarea v-model=\"body\" placeholder=\"Write your post here...\"></textarea>\n      <button @click=\"addPost\">Add Post</button>\n    </div>\n  </template>\n  \n  <script>\n  import auth from \"../auth\";\n  \n  export default {\n    name: \"AddPost\",\n    data: function() {\n      return {\n        body: \"\",\n        authResult: auth.authenticated()\n      }\n    },\n    methods: {\n      addPost() {\n        if (!this.body) {\n          alert(\"Please write something in the post body.\");\n          return;\n        }\n  \n        const post = {\n          body: this.body,\n          date: new Date().toISOString()\n        };\n  \n        fetch(\"http://localhost:3000/posts\", {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json',\n          },\n          body: JSON.stringify(post),\n        })\n        .then((response) => response.json())\n        .then((data) => {\n          console.log('Post added:', data);\n          this.$router.push(\"/\");\n        })\n        .catch((error) => {\n          console.error('Error:', error);\n        });\n      },\n    }\n  };\n  </script>\n  \n  <style scoped>\n  /* Your styles here */\n  </style>\n  "]},"metadata":{},"sourceType":"module","externalDependencies":[]}